{"ast":null,"code":"import _classCallCheck from\"/Users/Marina/Yandex Practicum/around-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Marina/Yandex Practicum/around-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";var Api=/*#__PURE__*/function(){function Api(_ref){var baseUrl=_ref.baseUrl,headers=_ref.headers;_classCallCheck(this,Api);this.baseUrl=baseUrl;this.headers=headers;}//GET Get initial cards\n_createClass(Api,[{key:\"getInitialCards\",value:function getInitialCards(){return fetch(\"\".concat(this.baseUrl,\"/cards\"),{headers:this.headers}).then(function(res){return res.ok?res.json():Promise.reject(\"Error: \".concat(res.status));});}//GET Get user info\n},{key:\"getUserInfo\",value:function getUserInfo(){return fetch(\"\".concat(this.baseUrl,\"/users/me\"),{headers:this.headers}).then(function(res){return res.ok?res.json():Promise.reject(\"Error: \".concat(res.status));});}//PATCH Set user info\n},{key:\"setUserInfo\",value:function setUserInfo(_ref2){var name=_ref2.name,about=_ref2.about;return fetch(\"\".concat(this.baseUrl,\"/users/me\"),{method:\"PATCH\",headers:this.headers,body:JSON.stringify({name:name,about:about})}).then(function(res){return res.ok?res.json():Promise.reject(\"Error: \".concat(res.status));});}//PATCH Set user avatar\n},{key:\"setUserAvatar\",value:function setUserAvatar(_ref3){var avatar=_ref3.avatar;return fetch(\"\".concat(this.baseUrl,\"/users/me/avatar\"),{method:\"PATCH\",headers:this.headers,body:JSON.stringify({avatar:avatar})}).then(function(res){return res.ok?res.json():Promise.reject(\"Error: \".concat(res.status));});}//POST Add new place\n},{key:\"addCard\",value:function addCard(_ref4){var name=_ref4.name,link=_ref4.link;return fetch(\"\".concat(this.baseUrl,\"/cards\"),{headers:this.headers,method:\"POST\",body:JSON.stringify({name:name,link:link})}).then(function(res){return res.ok?res.json():Promise.reject(\"Error: \".concat(res.status));});}//DELETE Remove place\n},{key:\"removeCard\",value:function removeCard(cardId){return fetch(\"\".concat(this.baseUrl,\"/cards/\").concat(cardId),{headers:this.headers,method:\"DELETE\"}).then(function(res){return res.ok?res.json():Promise.reject(\"Error: \".concat(res.status));});}//PUT/DELETE Change Like status\n},{key:\"changeLikeCardStatus\",value:function changeLikeCardStatus(cardId,method){return fetch(\"\".concat(this.baseUrl,\"/cards/likes/\").concat(cardId),{headers:this.headers,method:method}).then(function(res){return res.ok?res.json():Promise.reject(\"Error: \".concat(res.status));});}//Get initial data\n},{key:\"getAppInfo\",value:function getAppInfo(){return Promise.all([this.getInitialCards(),this.getUserInfo()]);}}]);return Api;}();//Init api\nvar api=new Api({baseUrl:\"https://around.nomoreparties.co/v1/group-1\",headers:{authorization:\"02dcf3f3-4313-4731-b00a-f80d0e88b6bf\",\"Content-Type\":\"application/json\"}});export default api;","map":{"version":3,"sources":["/Users/Marina/Yandex Practicum/around-react/src/utils/Api.js"],"names":["Api","baseUrl","headers","fetch","then","res","ok","json","Promise","reject","status","name","about","method","body","JSON","stringify","avatar","link","cardId","all","getInitialCards","getUserInfo","api","authorization"],"mappings":"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","sourcesContent":["class Api {\n  constructor({ baseUrl, headers }) {\n    this.baseUrl = baseUrl;\n    this.headers = headers;\n  }\n\n  //GET Get initial cards\n  getInitialCards() {\n    return fetch(`${this.baseUrl}/cards`, {\n      headers: this.headers,\n    }).then((res) =>\n      res.ok ? res.json() : Promise.reject(`Error: ${res.status}`)\n    );\n  }\n\n  //GET Get user info\n  getUserInfo() {\n    return fetch(`${this.baseUrl}/users/me`, {\n      headers: this.headers,\n    }).then((res) =>\n      res.ok ? res.json() : Promise.reject(`Error: ${res.status}`)\n    );\n  }\n\n  //PATCH Set user info\n  setUserInfo({ name, about }) {\n    return fetch(`${this.baseUrl}/users/me`, {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify({ name, about }),\n    }).then((res) =>\n      res.ok ? res.json() : Promise.reject(`Error: ${res.status}`)\n    );\n  }\n\n  //PATCH Set user avatar\n  setUserAvatar({ avatar }) {\n    return fetch(`${this.baseUrl}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify({ avatar }),\n    }).then((res) =>\n      res.ok ? res.json() : Promise.reject(`Error: ${res.status}`)\n    );\n  }\n\n  //POST Add new place\n  addCard({ name, link }) {\n    return fetch(`${this.baseUrl}/cards`, {\n      headers: this.headers,\n      method: \"POST\",\n      body: JSON.stringify({ name, link }),\n    }).then((res) =>\n      res.ok ? res.json() : Promise.reject(`Error: ${res.status}`)\n    );\n  }\n\n  //DELETE Remove place\n  removeCard(cardId) {\n    return fetch(`${this.baseUrl}/cards/${cardId}`, {\n      headers: this.headers,\n      method: \"DELETE\",\n    }).then((res) =>\n      res.ok ? res.json() : Promise.reject(`Error: ${res.status}`)\n    );\n  }\n\n  //PUT/DELETE Change Like status\n  changeLikeCardStatus(cardId, method) {\n    return fetch(`${this.baseUrl}/cards/likes/${cardId}`, {\n      headers: this.headers,\n      method: method,\n    }).then((res) =>\n      res.ok ? res.json() : Promise.reject(`Error: ${res.status}`)\n    );\n  }\n\n  //Get initial data\n  getAppInfo() {\n    return Promise.all([this.getInitialCards(), this.getUserInfo()]);\n  }\n}\n\n//Init api\nconst api = new Api({\n  baseUrl: \"https://around.nomoreparties.co/v1/group-1\",\n  headers: {\n    authorization: \"02dcf3f3-4313-4731-b00a-f80d0e88b6bf\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nexport default api;\n"]},"metadata":{},"sourceType":"module"}