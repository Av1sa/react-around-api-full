{"ast":null,"code":"import _toConsumableArray from\"/Users/Marina/Yandex Practicum/around-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/Marina/Yandex Practicum/around-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/Marina/Yandex Practicum/around-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{React,useState,useEffect}from\"react\";import{Switch,Route,Redirect,useHistory}from\"react-router-dom\";import api from\"../utils/api\";import{CurrentUserContext}from\"../contexts/CurrentUserContext\";import Header from\"./Header\";import ProtectedRoute from\"./ProtectedRoute\";import Main from\"./Main\";import Footer from\"./Footer\";import PopupWithImage from\"./PopupWithImage\";import EditProfilePopup from\"./EditProfilePopup\";import EditAvatarPopup from\"./EditAvatarPopup\";import AddPlacePopup from\"./AddPlacePopup\";import Login from\"./Login\";import Register from\"./Register\";import InfoTooltip from\"./InfoTooltip\";function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isEditProfilePopupOpen=_useState2[0],setIsEditProfilePopupOpen=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isAddPlacePopupOpen=_useState4[0],setIsAddPlacePopupOpen=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isEditAvatarPopupOpen=_useState6[0],setIsEditAvatarPopupOpen=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isImagePopupOpen=_useState8[0],setIsImagePopupOpen=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isSuccessTooltipOpen=_useState10[0],setIsSuccessTooltipOpen=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),isErrorTooltipOpen=_useState12[0],setIsErrorTooltipOpen=_useState12[1];var _useState13=useState({}),_useState14=_slicedToArray(_useState13,2),selectedCard=_useState14[0],setSelectedCard=_useState14[1];var _useState15=useState({}),_useState16=_slicedToArray(_useState15,2),currentUser=_useState16[0],setCurrentUser=_useState16[1];var _useState17=useState([]),_useState18=_slicedToArray(_useState17,2),cards=_useState18[0],setCards=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),loggedIn=_useState20[0],setLoggedIn=_useState20[1];var _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),email=_useState22[0],setEmail=_useState22[1];var history=useHistory();useEffect(function(){api.getAppInfo().then(function(_ref){var _ref2=_slicedToArray(_ref,2),cardListData=_ref2[0],userInfoData=_ref2[1];setCurrentUser(userInfoData);setCards(cardListData);if(localStorage.getItem(\"jwt\")){//validate user\n}}).catch(function(error){console.log(error);});},[]);var handleEditAvatarClick=function handleEditAvatarClick(){setIsEditAvatarPopupOpen(true);};var handleEditProfileClick=function handleEditProfileClick(){setIsEditProfilePopupOpen(true);};var handleAddPlaceClick=function handleAddPlaceClick(){setIsAddPlacePopupOpen(true);};var handleUpdateUser=function handleUpdateUser(_ref3){var name=_ref3.name,description=_ref3.description;api.setUserInfo({currentUser:currentUser,name:name,about:description}).then(function(res){setCurrentUser(_objectSpread(_objectSpread({},currentUser),{},{name:res.name,about:res.about}));closeAllPopups();}).catch(function(error){console.log(error);});};var handleUpdateAvatar=function handleUpdateAvatar(_ref4){var avatar=_ref4.avatar;api.setUserAvatar({avatar:avatar}).then(function(res){setCurrentUser(_objectSpread(_objectSpread({},currentUser),{},{avatar:res.avatar}));closeAllPopups();}).catch(function(error){console.log(error);});};var handleAddPlaceSubmit=function handleAddPlaceSubmit(_ref5){var name=_ref5.name,link=_ref5.link;api.addCard({name:name,link:link}).then(function(newCard){setCards([].concat(_toConsumableArray(cards),[newCard]));closeAllPopups();}).catch(function(error){console.log(error);});};var handleCardLike=function handleCardLike(card){var isLiked=card.likes.some(function(c){return c._id===currentUser._id;});api.changeLikeCardStatus(card._id,isLiked?\"DELETE\":\"PUT\").then(function(newCard){var newCards=cards.map(function(c){return c._id===card._id?newCard:c;});setCards(newCards);});};var handleCardDelete=function handleCardDelete(card){api.removeCard(card._id).then(function(res){var newCards=cards.filter(function(c){return c._id!==card._id;});setCards(newCards);});};var handleCardClick=function handleCardClick(card){setIsImagePopupOpen(true);setSelectedCard(card);};var closeAllPopups=function closeAllPopups(){setIsEditAvatarPopupOpen(false);setIsEditProfilePopupOpen(false);setIsAddPlacePopupOpen(false);setIsImagePopupOpen(false);setSelectedCard({});};var handleSignOut=function handleSignOut(){};var handleLogin=function handleLogin(){};var handleRegister=function handleRegister(){};return/*#__PURE__*/React.createElement(CurrentUserContext.Provider,{value:currentUser},/*#__PURE__*/React.createElement(Header,{email:email,loggedIn:loggedIn,onSignOut:handleSignOut}),/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(ProtectedRoute,{component:Main,exact:true,path:\"/\",loggedIn:loggedIn,cards:cards,onCardClick:handleCardClick,onCardDelete:handleCardDelete,onCardLike:handleCardLike,onEditProfile:handleEditProfileClick,onEditAvatar:handleEditAvatarClick,onAddPlace:handleAddPlaceClick}),/*#__PURE__*/React.createElement(Route,{path:\"/signin\"},/*#__PURE__*/React.createElement(Login,{onLogin:handleLogin})),/*#__PURE__*/React.createElement(Route,{path:\"/signup\"},/*#__PURE__*/React.createElement(Register,{onRegister:handleRegister})),/*#__PURE__*/React.createElement(Route,null,/*#__PURE__*/React.createElement(Redirect,{to:loggedIn?\"/\":\"/signin\"}))),loggedIn&&/*#__PURE__*/React.createElement(Footer,null),/*#__PURE__*/React.createElement(EditProfilePopup,{isOpen:isEditProfilePopupOpen,onClose:closeAllPopups,onUpdateUser:handleUpdateUser}),/*#__PURE__*/React.createElement(EditAvatarPopup,{isOpen:isEditAvatarPopupOpen,onClose:closeAllPopups,onUpdateAvatar:handleUpdateAvatar}),/*#__PURE__*/React.createElement(AddPlacePopup,{isOpen:isAddPlacePopupOpen,onClose:closeAllPopups,onAddPlace:handleAddPlaceSubmit}),/*#__PURE__*/React.createElement(PopupWithImage,{card:selectedCard,isOpen:isImagePopupOpen,onClose:closeAllPopups}),/*#__PURE__*/React.createElement(InfoTooltip,{type:\"success\",isOpen:isSuccessTooltipOpen,onClose:closeAllPopups}),/*#__PURE__*/React.createElement(InfoTooltip,{type:\"error\",isOpen:isErrorTooltipOpen,onClose:closeAllPopups}));}export default App;","map":{"version":3,"sources":["/Users/Marina/Yandex Practicum/around-react/src/components/App.js"],"names":["React","useState","useEffect","Switch","Route","Redirect","useHistory","api","CurrentUserContext","Header","ProtectedRoute","Main","Footer","PopupWithImage","EditProfilePopup","EditAvatarPopup","AddPlacePopup","Login","Register","InfoTooltip","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","isSuccessTooltipOpen","setIsSuccessTooltipOpen","isErrorTooltipOpen","setIsErrorTooltipOpen","selectedCard","setSelectedCard","currentUser","setCurrentUser","cards","setCards","loggedIn","setLoggedIn","email","setEmail","history","getAppInfo","then","cardListData","userInfoData","localStorage","getItem","catch","error","console","log","handleEditAvatarClick","handleEditProfileClick","handleAddPlaceClick","handleUpdateUser","name","description","setUserInfo","about","res","closeAllPopups","handleUpdateAvatar","avatar","setUserAvatar","handleAddPlaceSubmit","link","addCard","newCard","handleCardLike","card","isLiked","likes","some","c","_id","changeLikeCardStatus","newCards","map","handleCardDelete","removeCard","filter","handleCardClick","handleSignOut","handleLogin","handleRegister"],"mappings":"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","sourcesContent":["import { React, useState, useEffect } from \"react\";\nimport { Switch, Route, Redirect, useHistory } from \"react-router-dom\";\nimport api from \"../utils/api\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport Header from \"./Header\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport PopupWithImage from \"./PopupWithImage\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport InfoTooltip from \"./InfoTooltip\";\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\n  const [isSuccessTooltipOpen, setIsSuccessTooltipOpen] = useState(false);\n  const [isErrorTooltipOpen, setIsErrorTooltipOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({});\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [email, setEmail] = useState(false);\n  const history = useHistory();\n\n  useEffect(() => {\n    api\n      .getAppInfo()\n      .then(([cardListData, userInfoData]) => {\n        setCurrentUser(userInfoData);\n        setCards(cardListData);\n\n        if (localStorage.getItem(\"jwt\")) {\n          //validate user\n        }\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }, []);\n\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(true);\n  };\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(true);\n  };\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(true);\n  };\n  const handleUpdateUser = ({ name, description }) => {\n    api\n      .setUserInfo({ currentUser, name: name, about: description })\n      .then((res) => {\n        setCurrentUser({\n          ...currentUser,\n          name: res.name,\n          about: res.about,\n        });\n        closeAllPopups();\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n  const handleUpdateAvatar = ({ avatar }) => {\n    api\n      .setUserAvatar({ avatar })\n      .then((res) => {\n        setCurrentUser({\n          ...currentUser,\n          avatar: res.avatar,\n        });\n        closeAllPopups();\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const handleAddPlaceSubmit = ({ name, link }) => {\n    api\n      .addCard({ name, link })\n      .then((newCard) => {\n        setCards([...cards, newCard]);\n        closeAllPopups();\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some((c) => c._id === currentUser._id);\n    api\n      .changeLikeCardStatus(card._id, isLiked ? \"DELETE\" : \"PUT\")\n      .then((newCard) => {\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n        setCards(newCards);\n      });\n  };\n  const handleCardDelete = (card) => {\n    api.removeCard(card._id).then((res) => {\n      const newCards = cards.filter((c) => c._id !== card._id);\n      setCards(newCards);\n    });\n  };\n  const handleCardClick = (card) => {\n    setIsImagePopupOpen(true);\n    setSelectedCard(card);\n  };\n\n  const closeAllPopups = () => {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsImagePopupOpen(false);\n    setSelectedCard({});\n  };\n\n  const handleSignOut = () => {};\n  const handleLogin = () => {};\n  const handleRegister = () => {};\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <Header email={email} loggedIn={loggedIn} onSignOut={handleSignOut} />\n      <Switch>\n        <ProtectedRoute\n          component={Main}\n          exact\n          path=\"/\"\n          loggedIn={loggedIn}\n          cards={cards}\n          onCardClick={handleCardClick}\n          onCardDelete={handleCardDelete}\n          onCardLike={handleCardLike}\n          onEditProfile={handleEditProfileClick}\n          onEditAvatar={handleEditAvatarClick}\n          onAddPlace={handleAddPlaceClick}\n        />\n        <Route path=\"/signin\">\n          <Login onLogin={handleLogin} />\n        </Route>\n        <Route path=\"/signup\">\n          <Register onRegister={handleRegister} />\n        </Route>\n        <Route>\n          <Redirect to={loggedIn ? \"/\" : \"/signin\"} />\n        </Route>\n      </Switch>\n      {loggedIn && <Footer />}\n\n      <EditProfilePopup\n        isOpen={isEditProfilePopupOpen}\n        onClose={closeAllPopups}\n        onUpdateUser={handleUpdateUser}\n      />\n      <EditAvatarPopup\n        isOpen={isEditAvatarPopupOpen}\n        onClose={closeAllPopups}\n        onUpdateAvatar={handleUpdateAvatar}\n      />\n      <AddPlacePopup\n        isOpen={isAddPlacePopupOpen}\n        onClose={closeAllPopups}\n        onAddPlace={handleAddPlaceSubmit}\n      />\n      <PopupWithImage\n        card={selectedCard}\n        isOpen={isImagePopupOpen}\n        onClose={closeAllPopups}\n      />\n      <InfoTooltip\n        type=\"success\"\n        isOpen={isSuccessTooltipOpen}\n        onClose={closeAllPopups}\n      />\n      <InfoTooltip\n        type=\"error\"\n        isOpen={isErrorTooltipOpen}\n        onClose={closeAllPopups}\n      />\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}