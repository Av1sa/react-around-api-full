{"ast":null,"code":"var _jsxFileName = \"/Users/Marina/Yandex Practicum/around-react/src/components/Main.js\";\nimport React from \"react\";\nimport editIconLarge from \"../images/edit_large_icon.svg\";\nimport api from \"../utils/Api\";\nimport Card from \"../components/Card\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Main({\n  onEditProfile,\n  onEditAvatar,\n  onAddPlace,\n  onDeleteClick,\n  onCardClick\n}) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const {\n    name,\n    about,\n    avatar\n  } = currentUser;\n  const [cards, setCards] = React.useState({});\n  React.useEffect(() => {\n    api.getInitialCards().then(cardListData => {\n      setCards(cardListData);\n      console.log(cardListData);\n    }).catch(error => {\n      console.log(error);\n    });\n  }, []);\n\n  const handleCardLike = card => {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.changeLikeCardStatus(card._id, isLiked ? \"DELETE\" : \"PUT\").then(newCard => {\n      const newCards = cards.map(c => c._id === card._id ? newCard : c);\n      setCards(newCards);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"main\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"section\", {\n    className: \"profile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile__avatar-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    alt: \"Avatar Pic\",\n    className: \"profile__avatar\",\n    src: avatar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile__avatar-edit\",\n    onClick: onEditAvatar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: editIconLarge,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile__text-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"profile__name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }, name), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"button button_edit\",\n    onClick: onEditProfile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"profile__description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, about)), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"button button_add\",\n    onClick: onAddPlace,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"section\", {\n    className: \"elements\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"cards\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, cards.map(card => /*#__PURE__*/React.createElement(Card, {\n    card: card,\n    onDeleteClick: onDeleteClick,\n    onCardClick: onCardClick,\n    onCardLike: handleCardLike,\n    key: card._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  })))));\n}\n\nexport default Main;","map":{"version":3,"sources":["/Users/Marina/Yandex Practicum/around-react/src/components/Main.js"],"names":["React","api","Card","CurrentUserContext","Main","onEditProfile","onEditAvatar","onAddPlace","onDeleteClick","onCardClick","currentUser","useContext","name","about","avatar","cards","setCards","useState","useEffect","getInitialCards","then","cardListData","console","log","catch","error","handleCardLike","card","isLiked","likes","some","i","_id","changeLikeCardStatus","newCard","newCards","map","c","editIconLarge"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport editIconLarge from \"../images/edit_large_icon.svg\";\nimport api from \"../utils/Api\";\nimport Card from \"../components/Card\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Main({\n  onEditProfile,\n  onEditAvatar,\n  onAddPlace,\n  onDeleteClick,\n  onCardClick,\n}) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const { name, about, avatar } = currentUser;\n  \n  const [cards, setCards] = React.useState({});\n  \n  React.useEffect(() => {\n    api\n    .getInitialCards()\n    .then((cardListData) => {\n      setCards(cardListData);\n      console.log(cardListData);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }, []);\n\n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    api\n      .changeLikeCardStatus(card._id, isLiked ? \"DELETE\" : \"PUT\")\n      .then((newCard) => {\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n        setCards(newCards);\n      });\n  };\n\n  return (\n    <main>\n      <section className=\"profile\">\n        <div className=\"profile__avatar-container\">\n          <img alt=\"Avatar Pic\" className=\"profile__avatar\" src={avatar} />\n          <div className=\"profile__avatar-edit\" onClick={onEditAvatar}>\n            <img src={editIconLarge} alt=\"\" />\n          </div>\n        </div>\n        <div className=\"profile__text-container\">\n          <h1 className=\"profile__name\">{name}</h1>\n          <button\n            className=\"button button_edit\"\n            onClick={onEditProfile}\n          ></button>\n          <p className=\"profile__description\">{about}</p>\n        </div>\n        <button className=\"button button_add\" onClick={onAddPlace}></button>\n      </section>\n\n      <section className=\"elements\">\n        <ul className=\"cards\">\n          {cards.map((card) => (\n            <Card\n              card={card}\n              onDeleteClick={onDeleteClick}\n              onCardClick={onCardClick}\n              onCardLike={handleCardLike}\n              key={card._id}\n            />\n          ))}\n        </ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n"]},"metadata":{},"sourceType":"module"}