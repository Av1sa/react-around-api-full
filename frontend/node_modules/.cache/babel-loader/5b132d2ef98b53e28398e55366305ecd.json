{"ast":null,"code":"import { baseUrl, headers } from \"./utils\";\n\nclass Auth {\n  constructor({\n    baseUrl,\n    headers\n  }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  _getResponseData(res) {\n    return res.ok ? res.json() : Promise.reject(`Error: ${res.status}`);\n  } //Sign up user\n\n\n  registerUser(data) {\n    return fetch(`${this._baseUrl}/signup`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        password,\n        email\n      })\n    }).then(this._getResponseData);\n  } //Sign in user\n\n\n  signInUser({\n    password,\n    email\n  }) {\n    return fetch(`${this._baseUrl}/signin`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        password,\n        email\n      })\n    }).then(this._getResponseData);\n  } //Sign out user\n  // signOutUser() {\n  //   return fetch(`${this._baseUrl}/signout`, {\n  //     method: \"DELETE\",\n  //     headers: this._headers,\n  //   }).then(this._getResponseData);\n  // }\n  //Check token and get user email\n\n\n  validateUser() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: { ...this._headers\n      }\n    }).then(this._getResponseData);\n  }\n\n}\n\nconst auth = new Auth({\n  baseUrl,\n  headers\n});\nexport default auth;","map":{"version":3,"sources":["/Users/Marina/Yandex Practicum/around-react/src/utils/auth.js"],"names":["baseUrl","headers","Auth","constructor","_baseUrl","_headers","_getResponseData","res","ok","json","Promise","reject","status","registerUser","data","fetch","method","body","JSON","stringify","password","email","then","signInUser","validateUser","auth"],"mappings":"AAAA,SAASA,OAAT,EAAkBC,OAAlB,QAAiC,SAAjC;;AAEA,MAAMC,IAAN,CAAW;AACTC,EAAAA,WAAW,CAAC;AAAEH,IAAAA,OAAF;AAAWC,IAAAA;AAAX,GAAD,EAAuB;AAChC,SAAKG,QAAL,GAAgBJ,OAAhB;AACA,SAAKK,QAAL,GAAgBJ,OAAhB;AACD;;AAEDK,EAAAA,gBAAgB,CAACC,GAAD,EAAM;AACpB,WAAOA,GAAG,CAACC,EAAJ,GAASD,GAAG,CAACE,IAAJ,EAAT,GAAsBC,OAAO,CAACC,MAAR,CAAgB,UAASJ,GAAG,CAACK,MAAO,EAApC,CAA7B;AACD,GARQ,CAUT;;;AACAC,EAAAA,YAAY,CAACC,IAAD,EAAO;AACjB,WAAOC,KAAK,CAAE,GAAE,KAAKX,QAAS,SAAlB,EAA4B;AACtCY,MAAAA,MAAM,EAAE,MAD8B;AAEtCf,MAAAA,OAAO,EAAE,KAAKI,QAFwB;AAGtCY,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEC,QAAAA,QAAF;AAAYC,QAAAA;AAAZ,OAAf;AAHgC,KAA5B,CAAL,CAIJC,IAJI,CAIC,KAAKhB,gBAJN,CAAP;AAKD,GAjBQ,CAmBT;;;AACAiB,EAAAA,UAAU,CAAC;AAAEH,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,GAAD,EAAsB;AAC9B,WAAON,KAAK,CAAE,GAAE,KAAKX,QAAS,SAAlB,EAA4B;AACtCY,MAAAA,MAAM,EAAE,MAD8B;AAEtCf,MAAAA,OAAO,EAAE,KAAKI,QAFwB;AAGtCY,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEC,QAAAA,QAAF;AAAYC,QAAAA;AAAZ,OAAf;AAHgC,KAA5B,CAAL,CAIJC,IAJI,CAIC,KAAKhB,gBAJN,CAAP;AAKD,GA1BQ,CA4BT;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;AACAkB,EAAAA,YAAY,GAAG;AACb,WAAOT,KAAK,CAAE,GAAE,KAAKX,QAAS,WAAlB,EAA8B;AACxCH,MAAAA,OAAO,EAAE,EACP,GAAG,KAAKI;AADD;AAD+B,KAA9B,CAAL,CAIJiB,IAJI,CAIC,KAAKhB,gBAJN,CAAP;AAKD;;AA3CQ;;AA8CX,MAAMmB,IAAI,GAAG,IAAIvB,IAAJ,CAAS;AACpBF,EAAAA,OADoB;AAEpBC,EAAAA;AAFoB,CAAT,CAAb;AAKA,eAAewB,IAAf","sourcesContent":["import { baseUrl, headers } from \"./utils\";\n\nclass Auth {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  _getResponseData(res) {\n    return res.ok ? res.json() : Promise.reject(`Error: ${res.status}`);\n  }\n\n  //Sign up user\n  registerUser(data) {\n    return fetch(`${this._baseUrl}/signup`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({ password, email }),\n    }).then(this._getResponseData);\n  }\n\n  //Sign in user\n  signInUser({ password, email }) {\n    return fetch(`${this._baseUrl}/signin`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({ password, email }),\n    }).then(this._getResponseData);\n  }\n\n  //Sign out user\n  // signOutUser() {\n  //   return fetch(`${this._baseUrl}/signout`, {\n  //     method: \"DELETE\",\n  //     headers: this._headers,\n  //   }).then(this._getResponseData);\n  // }\n\n  //Check token and get user email\n  validateUser() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: {\n        ...this._headers,\n      },\n    }).then(this._getResponseData);\n  }\n}\n\nconst auth = new Auth({\n  baseUrl,\n  headers,\n});\n\nexport default auth;\n"]},"metadata":{},"sourceType":"module"}